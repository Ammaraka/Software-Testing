<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>VirtualReality: Aurora.Modules.Chat.MessageTransferModule Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="../../main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="../../namespaces.html"><span>Packages</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="../../classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="../../hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath">
    <ul>
      <li><b>Aurora</b>      </li>
      <li><b>Modules</b>      </li>
      <li><a class="el" href="../../dd/de6/namespaceAurora_1_1Modules_1_1Chat.html">Chat</a>      </li>
      <li><a class="el" href="../../d9/dea/classAurora_1_1Modules_1_1Chat_1_1MessageTransferModule.html">Aurora.Modules.Chat.MessageTransferModule</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#properties">Properties</a> &#124;
<a href="#events">Events</a>  </div>
  <div class="headertitle">
<h1>Aurora.Modules.Chat.MessageTransferModule Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="Aurora::Modules::Chat::MessageTransferModule" --><!-- doxytag: inherits="OpenSim::Region::Framework::Interfaces::ISharedRegionModule,OpenSim::Region::Framework::Interfaces::IMessageTransferModule" --><div class="dynheader">
Inheritance diagram for Aurora.Modules.Chat.MessageTransferModule:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../d9/dea/classAurora_1_1Modules_1_1Chat_1_1MessageTransferModule.png" usemap="#Aurora.Modules.Chat.MessageTransferModule_map" alt=""/>
  <map id="Aurora.Modules.Chat.MessageTransferModule_map" name="Aurora.Modules.Chat.MessageTransferModule_map">
<area href="../../d6/d06/interfaceOpenSim_1_1Region_1_1Framework_1_1Interfaces_1_1ISharedRegionModule.html" alt="OpenSim.Region.Framework.Interfaces.ISharedRegionModule" shape="rect" coords="0,56,381,80"/>
<area href="../../db/d26/interfaceOpenSim_1_1Region_1_1Framework_1_1Interfaces_1_1IMessageTransferModule.html" alt="OpenSim.Region.Framework.Interfaces.IMessageTransferModule" shape="rect" coords="391,56,772,80"/>
<area href="../../d2/d28/interfaceOpenSim_1_1Region_1_1Framework_1_1Interfaces_1_1IRegionModuleBase.html" alt="OpenSim.Region.Framework.Interfaces.IRegionModuleBase" shape="rect" coords="0,0,381,24"/>
</map>
</div>

<p><a href="../../d0/dd4/classAurora_1_1Modules_1_1Chat_1_1MessageTransferModule-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a97989fc2d6f24c36e77157e3d9b53fc6"></a><!-- doxytag: member="Aurora::Modules::Chat::MessageTransferModule::AddRegion" ref="a97989fc2d6f24c36e77157e3d9b53fc6" args="(IScene scene)" -->
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><b>AddRegion</b> (<a class="el" href="../../db/dff/interfaceAurora_1_1Framework_1_1IScene.html">IScene</a> scene)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0a70f1f4386173b141d590f85766cb48"></a><!-- doxytag: member="Aurora::Modules::Chat::MessageTransferModule::Close" ref="a0a70f1f4386173b141d590f85766cb48" args="()" -->
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><b>Close</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">delegate void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/dea/classAurora_1_1Modules_1_1Chat_1_1MessageTransferModule.html#a7ba8c25a31a168c457b46dd922ccf0eb">GridInstantMessageDelegate</a> (<a class="el" href="../../d8/df8/classAurora_1_1Framework_1_1GridInstantMessage.html">GridInstantMessage</a> im, <a class="el" href="../../dc/d50/classOpenSim_1_1Services_1_1Interfaces_1_1GridRegion.html">GridRegion</a> prevRegion)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">delegate for sending a grid instant message asynchronously  <a href="#a7ba8c25a31a168c457b46dd922ccf0eb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9549fdaf8196b78d221158c86fcc00b7"></a><!-- doxytag: member="Aurora::Modules::Chat::MessageTransferModule::Initialise" ref="a9549fdaf8196b78d221158c86fcc00b7" args="(IConfigSource config)" -->
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><b>Initialise</b> (IConfigSource config)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac5791e96aae86c6a063a97886b7a6518"></a><!-- doxytag: member="Aurora::Modules::Chat::MessageTransferModule::PostInitialise" ref="ac5791e96aae86c6a063a97886b7a6518" args="()" -->
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><b>PostInitialise</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8b5258e04a7188c408bffeb4a4b9aac8"></a><!-- doxytag: member="Aurora::Modules::Chat::MessageTransferModule::RegionLoaded" ref="a8b5258e04a7188c408bffeb4a4b9aac8" args="(IScene scene)" -->
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><b>RegionLoaded</b> (<a class="el" href="../../db/dff/interfaceAurora_1_1Framework_1_1IScene.html">IScene</a> scene)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a31701eae67c2558a5d0b9ed8d71c73fc"></a><!-- doxytag: member="Aurora::Modules::Chat::MessageTransferModule::RemoveRegion" ref="a31701eae67c2558a5d0b9ed8d71c73fc" args="(IScene scene)" -->
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><b>RemoveRegion</b> (<a class="el" href="../../db/dff/interfaceAurora_1_1Framework_1_1IScene.html">IScene</a> scene)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adf6addc1550b5dfc2ddc383d746df5fc"></a><!-- doxytag: member="Aurora::Modules::Chat::MessageTransferModule::SendInstantMessage" ref="adf6addc1550b5dfc2ddc383d746df5fc" args="(GridInstantMessage im)" -->
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><b>SendInstantMessage</b> (<a class="el" href="../../d8/df8/classAurora_1_1Framework_1_1GridInstantMessage.html">GridInstantMessage</a> im)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad363686684fc99e83a9c643c7fcd3bb8"></a><!-- doxytag: member="Aurora::Modules::Chat::MessageTransferModule::SendInstantMessages" ref="ad363686684fc99e83a9c643c7fcd3bb8" args="(GridInstantMessage im, List&lt; UUID &gt; AgentsToSendTo)" -->
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><b>SendInstantMessages</b> (<a class="el" href="../../d8/df8/classAurora_1_1Framework_1_1GridInstantMessage.html">GridInstantMessage</a> im, List&lt; UUID &gt; AgentsToSendTo)</td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Dictionary&lt; UUID, string &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/dea/classAurora_1_1Modules_1_1Chat_1_1MessageTransferModule.html#a49ad7598a5fa9f5cb25dca38e34b9555">IMUsersCache</a> = new Dictionary&lt;UUID, string&gt;()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Param UUID - AgentID Param string - HTTP path to the region the user is in, blank if not found.  <a href="#a49ad7598a5fa9f5cb25dca38e34b9555"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual Hashtable&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/dea/classAurora_1_1Modules_1_1Chat_1_1MessageTransferModule.html#a180e85189de78c898057621ae6640e5c">ConvertGridInstantMessageToXMLRPC</a> (<a class="el" href="../../d8/df8/classAurora_1_1Framework_1_1GridInstantMessage.html">GridInstantMessage</a> msg)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Takes a GridInstantMessage and converts it into a Hashtable for XMLRPC.  <a href="#a180e85189de78c898057621ae6640e5c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac4fcab75096ca89e9860ec712e006e0c"></a><!-- doxytag: member="Aurora::Modules::Chat::MessageTransferModule::ConvertGridInstantMessageToXMLRPCXML" ref="ac4fcab75096ca89e9860ec712e006e0c" args="(GridInstantMessage msg)" -->
virtual Hashtable&nbsp;</td><td class="memItemRight" valign="bottom"><b>ConvertGridInstantMessageToXMLRPCXML</b> (<a class="el" href="../../d8/df8/classAurora_1_1Framework_1_1GridInstantMessage.html">GridInstantMessage</a> msg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/dea/classAurora_1_1Modules_1_1Chat_1_1MessageTransferModule.html#a89991b00a66ed0bc5bf5ae68778adad1">doIMSending</a> (string httpInfo, Hashtable xmlrpcdata)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This actually does the XMLRPC Request.  <a href="#a89991b00a66ed0bc5bf5ae68778adad1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aedcb860946ba799bc2b9c0ac7476fe90"></a><!-- doxytag: member="Aurora::Modules::Chat::MessageTransferModule::GridInstantMessageCompleted" ref="aedcb860946ba799bc2b9c0ac7476fe90" args="(IAsyncResult iar)" -->
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><b>GridInstantMessageCompleted</b> (IAsyncResult iar)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual XmlRpcResponse&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/dea/classAurora_1_1Modules_1_1Chat_1_1MessageTransferModule.html#aa9134d9a2d3eeb4ff9b7f9e28081dfaf">processXMLRPCGridInstantMessage</a> (XmlRpcRequest request, IPEndPoint remoteClient)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Process a XMLRPC Grid Instant Message.  <a href="#aa9134d9a2d3eeb4ff9b7f9e28081dfaf"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8610cdc9ab1837e49d395aaa39f76401"></a><!-- doxytag: member="Aurora::Modules::Chat::MessageTransferModule::SendGridInstantMessageViaXMLRPC" ref="a8610cdc9ab1837e49d395aaa39f76401" args="(GridInstantMessage im)" -->
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><b>SendGridInstantMessageViaXMLRPC</b> (<a class="el" href="../../d8/df8/classAurora_1_1Framework_1_1GridInstantMessage.html">GridInstantMessage</a> im)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/dea/classAurora_1_1Modules_1_1Chat_1_1MessageTransferModule.html#a51c4aedefd776c6654ac89c4959769e3">SendGridInstantMessageViaXMLRPCAsync</a> (<a class="el" href="../../d8/df8/classAurora_1_1Framework_1_1GridInstantMessage.html">GridInstantMessage</a> im, <a class="el" href="../../dc/d50/classOpenSim_1_1Services_1_1Interfaces_1_1GridRegion.html">GridRegion</a> prevRegion)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Recursive SendGridInstantMessage over XMLRPC method. This is called from within a dedicated thread. The first time this is called, prevRegionHandle will be 0 Subsequent times this is called from itself, prevRegionHandle will be the last region handle that we tried to send. If the handles are the same, we look up the user's location using the grid. If the handles are still the same, we end. The send failed.  <a href="#a51c4aedefd776c6654ac89c4959769e3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0de10dbc69763abc0655b61c7412569a"></a><!-- doxytag: member="Aurora::Modules::Chat::MessageTransferModule::SendMultipleGridInstantMessageViaXMLRPC" ref="a0de10dbc69763abc0655b61c7412569a" args="(GridInstantMessage im, List&lt; UUID &gt; users)" -->
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><b>SendMultipleGridInstantMessageViaXMLRPC</b> (<a class="el" href="../../d8/df8/classAurora_1_1Framework_1_1GridInstantMessage.html">GridInstantMessage</a> im, List&lt; UUID &gt; users)</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a23c160b9d805b03535f325c4019667e8"></a><!-- doxytag: member="Aurora::Modules::Chat::MessageTransferModule::m_Scenes" ref="a23c160b9d805b03535f325c4019667e8" args="" -->
List&lt; <a class="el" href="../../db/dff/interfaceAurora_1_1Framework_1_1IScene.html">IScene</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_Scenes</b> = new List&lt;<a class="el" href="../../db/dff/interfaceAurora_1_1Framework_1_1IScene.html">IScene</a>&gt;()</td></tr>
<tr><td colspan="2"><h2><a name="properties"></a>
Properties</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa20c5a0504051984cc696ca6ae4b4662"></a><!-- doxytag: member="Aurora::Modules::Chat::MessageTransferModule::Name" ref="aa20c5a0504051984cc696ca6ae4b4662" args="" -->
virtual string&nbsp;</td><td class="memItemRight" valign="bottom"><b>Name</b><code> [get]</code></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a59f03c90a2214fb85e106b6b04e5bb72"></a><!-- doxytag: member="Aurora::Modules::Chat::MessageTransferModule::ReplaceableInterface" ref="a59f03c90a2214fb85e106b6b04e5bb72" args="" -->
virtual Type&nbsp;</td><td class="memItemRight" valign="bottom"><b>ReplaceableInterface</b><code> [get]</code></td></tr>
<tr><td colspan="2"><h2><a name="events"></a>
Events</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5baed537c44c79bdc593214465b077af"></a><!-- doxytag: member="Aurora::Modules::Chat::MessageTransferModule::OnUndeliveredMessage" ref="a5baed537c44c79bdc593214465b077af" args="" -->
UndeliveredMessage&nbsp;</td><td class="memItemRight" valign="bottom"><b>OnUndeliveredMessage</b></td></tr>
</table>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a180e85189de78c898057621ae6640e5c"></a><!-- doxytag: member="Aurora::Modules::Chat::MessageTransferModule::ConvertGridInstantMessageToXMLRPC" ref="a180e85189de78c898057621ae6640e5c" args="(GridInstantMessage msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual Hashtable Aurora.Modules.Chat.MessageTransferModule.ConvertGridInstantMessageToXMLRPC </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/df8/classAurora_1_1Framework_1_1GridInstantMessage.html">GridInstantMessage</a>&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Takes a GridInstantMessage and converts it into a Hashtable for XMLRPC. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>msg</em>&nbsp;</td><td>The GridInstantMessage object</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Hashtable containing the XMLRPC request</dd></dl>

</div>
</div>
<a class="anchor" id="a89991b00a66ed0bc5bf5ae68778adad1"></a><!-- doxytag: member="Aurora::Modules::Chat::MessageTransferModule::doIMSending" ref="a89991b00a66ed0bc5bf5ae68778adad1" args="(string httpInfo, Hashtable xmlrpcdata)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool Aurora.Modules.Chat.MessageTransferModule.doIMSending </td>
          <td>(</td>
          <td class="paramtype">string&nbsp;</td>
          <td class="paramname"> <em>httpInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Hashtable&nbsp;</td>
          <td class="paramname"> <em>xmlrpcdata</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This actually does the XMLRPC Request. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>httpInfo</em>&nbsp;</td><td>RegionInfo we pull the data out of to send the request to</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>xmlrpcdata</em>&nbsp;</td><td>The Instant Message data Hashtable</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Bool if the message was successfully delivered at the other side.</dd></dl>

</div>
</div>
<a class="anchor" id="a7ba8c25a31a168c457b46dd922ccf0eb"></a><!-- doxytag: member="Aurora::Modules::Chat::MessageTransferModule::GridInstantMessageDelegate" ref="a7ba8c25a31a168c457b46dd922ccf0eb" args="(GridInstantMessage im, GridRegion prevRegion)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">delegate void Aurora.Modules.Chat.MessageTransferModule.GridInstantMessageDelegate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/df8/classAurora_1_1Framework_1_1GridInstantMessage.html">GridInstantMessage</a>&nbsp;</td>
          <td class="paramname"> <em>im</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d50/classOpenSim_1_1Services_1_1Interfaces_1_1GridRegion.html">GridRegion</a>&nbsp;</td>
          <td class="paramname"> <em>prevRegion</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>delegate for sending a grid instant message asynchronously </p>

</div>
</div>
<a class="anchor" id="aa9134d9a2d3eeb4ff9b7f9e28081dfaf"></a><!-- doxytag: member="Aurora::Modules::Chat::MessageTransferModule::processXMLRPCGridInstantMessage" ref="aa9134d9a2d3eeb4ff9b7f9e28081dfaf" args="(XmlRpcRequest request, IPEndPoint remoteClient)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual XmlRpcResponse Aurora.Modules.Chat.MessageTransferModule.processXMLRPCGridInstantMessage </td>
          <td>(</td>
          <td class="paramtype">XmlRpcRequest&nbsp;</td>
          <td class="paramname"> <em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IPEndPoint&nbsp;</td>
          <td class="paramname"> <em>remoteClient</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Process a XMLRPC Grid Instant Message. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>request</em>&nbsp;</td><td>XMLRPC parameters </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>remoteClient</em>&nbsp;</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Nothing much</dd></dl>

</div>
</div>
<a class="anchor" id="a51c4aedefd776c6654ac89c4959769e3"></a><!-- doxytag: member="Aurora::Modules::Chat::MessageTransferModule::SendGridInstantMessageViaXMLRPCAsync" ref="a51c4aedefd776c6654ac89c4959769e3" args="(GridInstantMessage im, GridRegion prevRegion)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Aurora.Modules.Chat.MessageTransferModule.SendGridInstantMessageViaXMLRPCAsync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/df8/classAurora_1_1Framework_1_1GridInstantMessage.html">GridInstantMessage</a>&nbsp;</td>
          <td class="paramname"> <em>im</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d50/classOpenSim_1_1Services_1_1Interfaces_1_1GridRegion.html">GridRegion</a>&nbsp;</td>
          <td class="paramname"> <em>prevRegion</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Recursive SendGridInstantMessage over XMLRPC method. This is called from within a dedicated thread. The first time this is called, prevRegionHandle will be 0 Subsequent times this is called from itself, prevRegionHandle will be the last region handle that we tried to send. If the handles are the same, we look up the user's location using the grid. If the handles are still the same, we end. The send failed. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>prevRegionHandle</em>&nbsp;</td><td>Pass in 0 the first time this method is called. It will be called recursively with the last regionhandle tried </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a49ad7598a5fa9f5cb25dca38e34b9555"></a><!-- doxytag: member="Aurora::Modules::Chat::MessageTransferModule::IMUsersCache" ref="a49ad7598a5fa9f5cb25dca38e34b9555" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Dictionary&lt;UUID, string&gt; <a class="el" href="../../d9/dea/classAurora_1_1Modules_1_1Chat_1_1MessageTransferModule.html#a49ad7598a5fa9f5cb25dca38e34b9555">Aurora.Modules.Chat.MessageTransferModule.IMUsersCache</a> = new Dictionary&lt;UUID, string&gt;()</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Param UUID - AgentID Param string - HTTP path to the region the user is in, blank if not found. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>Aurora/Modules/Avatar/AuroraChat/InstantMessage/MessageTransferModule.cs</li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
